# セットアップマニュアル

　まず, Bash起動後,以下のようにsshコマンドを実行し,サーバにアクセスする.xxxにはそ
れぞれのIPアドレスの下 3 桁が入り,パスワードは各サーバにて異なる.
```
ssh isdev20@150.89.233.xxx
```
　次に以下のコマンドを実行し,今回自チームが開発したアプリのリポジトリのクローンを行う.
```
git clone https://github.com/nyaiQ/Bavarder.git
```
　次に以下のコマンドを実行し,リポジトリの移動を行う.
```
cd Bavarder
```
　次にgradlewコマンドを実行するために,以下のようにchmodコマンドを実行し,実行権限を与える.
```
chmod 755 gradlew
```
　次に,実行権限を与えたgradlewを以下のコマンドで実行する.
```
sh gradlew
```
　最後に,以下のコマンドを実行しプロジェクトを実行する.
```
./gradlew bootrun
```
　また,上記のコマンドにてプログラム実行出来た場合には,上記コマンドの代わりに以下の 2 つのコマンドを実行することによりアプリケーションを常時実行することが出来る
```
nohup bash ./gradlew bootrun > log.txt 2> errors.txt < /dev/null & PID=$!
```
```
echo $PID > pid.txt
```
アプリケーションの常時実行時,停止をする際には,以下の 2 つのコマンドを実行する.

　実行後, http\://150.89.233.xxx:8080/(xxxはアクセスしたサーバのIPアドレスの下 3 桁)にアクセスすることにより,「Bavarder」が起動される.初起動時には,タイトル画面の新規登録ボタンからユーザ名とパスワードを設定し,ログインすることによりチャット画面に遷移する.
```
PID=$(cat pid.txt)
```
```
kill $PID
```

# ユーザマニュアル
## 1 概要
　本アプリは不特定多数の交流を目的としたチャットアプリです．チャットでのコミュニケーションはもちろん，いいねや検索，プロフィールなどの機能があります．

## 2 利用方法
### 2.1 新規登録・ログイン
　本アプリを利用するためにはログインする必要があり，初回ログインの際には新規登録していただく必要があります．<br>
　タイトル画面より画面中央にある「新規登録」をクリックすると新規登録用の画面に移動します．また， 2 回目以降のログインをする方は画面中央にある「ログイン」をクリックしていただくと後述するログイン画面が表示されます．
<img width="960" alt="1" src="https://user-images.githubusercontent.com/56072895/104894199-bb3a9d00-59b7-11eb-8e59-1f0d6d7f32d6.png">

　まず，「新規登録」をクリックした後の説明をします．クリックすると新規登録画面に移動します．画面中央にあるテキストボックスにユーザ名とパスワードを入力して「登録」をクリックすることで新規登録の作業を完了することができます．次の画面に表示される「ログイン画面へ」をクリックしてください．ユーザ名は半角英数字 1 文字以上 8 文字以下，パスワードは半角英数字 6文字以上 12 文字以下でないと登録できませんので注意してください．
<img width="960" alt="2" src="https://user-images.githubusercontent.com/56072895/104894352-f046ef80-59b7-11eb-9b74-191988455819.png">
<img width="960" alt="3" src="https://user-images.githubusercontent.com/56072895/104894360-f210b300-59b7-11eb-85f3-f72311df6954.png">

　「ログイン画面へ」をクリックするとログイン画面が表示されますので，先ほど登録したユーザ名とパスワードでログインしてください．また， 2 回目以降のログインを行う際もこのログイン画面が表示されます．初回と同じように登録したユーザ名とパスワードを入力してログインしてください．
<img width="960" alt="4" src="https://user-images.githubusercontent.com/56072895/104894418-0b196400-59b8-11eb-91cf-b318dd492067.png">

### 2.2 チャット
　チャット画面ではメッセージの送信やメッセージに対していいね・編集・削除ができます．<br>
　メッセージの送信は画面右下にあるテキストボックスに送信したメッセージを入力して「送信」ボタンをクリックすることでできます．送信後，画面左にあるチャットログにメッセージが表示されます．このチャットログには他のユーザが送信したメッセージも表示されます．なお，何もテキストボックスに入力せずに送信することはできません．
<img width="960" alt="5" src="https://user-images.githubusercontent.com/56072895/104894493-22f0e800-59b8-11eb-982c-a4da1d598375.png">
<img width="960" alt="6" src="https://user-images.githubusercontent.com/56072895/104894529-2d12e680-59b8-11eb-9f03-e4f35072e607.png">

　メッセージのいいねは画面左のチャットログ内にある各メッセージの「★」マークが「いいね」を表し，クリックすることでできます．「★」マークのすぐ右横にある数字がいいねの累計回数を表しています．「いいね」を 1 回クリックすると，そのメッセージに対するいいねの回数が１加算され，何度でもクリックすることができます．
<img width="960" alt="7" src="https://user-images.githubusercontent.com/56072895/104894566-3603b800-59b8-11eb-9c48-82dbdf7e51d7.png">

　メッセージの編集と削除は自分が送信したメッセージにのみ行うことができます．画面左のチャットログ内にある自分が送信したメッセージには「編集」と「削除」が表示されます．
<img alt="8" src="https://user-images.githubusercontent.com/56072895/104894920-9b57a900-59b8-11eb-8a16-d06dcee332c0.png">

　「編集」をクリックすると画面右下の欄が変化し，テキストボックス内にメッセージが表示されます．
<img alt="9" src="https://user-images.githubusercontent.com/56072895/104895116-d35eec00-59b8-11eb-9f64-593d53ff3f64.png">

　そのメッセージを書き換え，すぐ下に表示されている「編集」をクリックすることで編集が完了し，画面左のチャットログ内のメッセージが変更されます．編集を確定させる前であれば「リセット」ボタンをクリックするとテキストボックス内のメッセージがリセットされます．
<img alt="10" src="https://user-images.githubusercontent.com/56072895/104895219-f25d7e00-59b8-11eb-9833-91f83e711087.png">
<img width="959" alt="11" src="https://user-images.githubusercontent.com/56072895/104895320-115c1000-59b9-11eb-9688-e0fb6aec0428.png">

　「削除」をクリックすると該当するメッセージを削除することができます．<br>
　また，画面左上の「ログアウト」ボタンをクリックすることでログアウトすることができます．

### 2.3 検索(ユーザ・日時・メッセージ)
　チャット画面よりユーザ検索で後述の各ユーザごとのプロフィール，日時・メッセージ検索で送信されたチャットを検索することができます．<br>
　画面右上のテキストボックス内で検索したいキーワードを入力してすぐ下の各種検索ボタンを押すとボタンに応じた検索を行います．ちなみに空白で検索すると全探索します．
<img width="960" alt="12" src="https://user-images.githubusercontent.com/56072895/104895389-26d13a00-59b9-11eb-9117-80408e810390.png">

　ユーザ検索を行うとキーワードにヒットしたユーザ名の一覧を表示します．表示されたユーザ名をクリックすると，2.4プロフィールで説明するプロフィールを表示します．
<img width="960" alt="13" src="https://user-images.githubusercontent.com/56072895/104895422-3781b000-59b9-11eb-9cf6-062d57dc56b6.png">

　日時・メッセージ検索を行うとキーワードにヒットしたメッセージ情報の一覧を表示します．表示されたメッセージに対してチャット画面と同じく，いいねや編集・削除を行うことができます．
<img width="960" alt="14" src="https://user-images.githubusercontent.com/56072895/104895528-5c762300-59b9-11eb-8696-3edd86006f53.png">

　「編集」をクリックすると画面右に編集用の欄が表示されますので，そこからメッセージの編集を行ってください．
<img width="960" alt="15" src="https://user-images.githubusercontent.com/56072895/104895574-6ac43f00-59b9-11eb-92f2-5713afcd6a83.png">

### 2.4 プロフィール
　プロフィール画面では各ユーザが設定したプロフィール情報を閲覧したり，自分のプロフィール情報を編集したりできます．<br>
　チャット画面の左上に表示されているユーザ名をクリックすることで自分のプロフィール画面に移動することができます．
<img width="960" alt="16" src="https://user-images.githubusercontent.com/56072895/104895637-7879c480-59b9-11eb-8cb4-f362cdace8fc.png">
<img width="960" alt="17" src="https://user-images.githubusercontent.com/56072895/104895681-862f4a00-59b9-11eb-8402-f090ee68f842.png">

　自分のプロフィールに関しては編集を行うことができます．編集できる項目は 4 つでユーザ名・生年月日・性別・一言コメントがあります．ユーザ名と一言コメントはテキストボックス，生年月日はカレンダー，性別はボタンで編集することができます．編集後，すぐ下の「編集」をクリックすることで編集内容を確定することができます．
<img width="960" alt="18" src="https://user-images.githubusercontent.com/56072895/104895832-b2e36180-59b9-11eb-8cf0-7422337193fc.png">

　また，画面下の「チャット画面に戻る」をクリックする事でいつでもチャット画面に移動することができます．2.3で説明したユーザ検索機能で検索した他のユーザのプロフィールは閲覧のみできます．ユーザ検索した後に表示されるユーザ名をクリックすると各プロフィールが表示されます．また，画面下の「検索結果に戻る」をクリックすることでユーザ検索結果画面に移動することができます．
<img width="960" alt="19" src="https://user-images.githubusercontent.com/56072895/104895860-bbd43300-59b9-11eb-967c-9c1f8f8d06b1.png">

## 3 注意事項
・いいねの連続クリックや，メッセージの連続送信はしないでください．画面の文字が表示されなくなる等不具合が起こります．
・ブラウザバックやURLを直接変更することは止めてください．正常な処理が行われない可能性があります．
・たまに，画面が正常に表示されない現象が発生する場合があります．その場合はブラウザを更新してください．
